Micro Service Modeling

마이크로 서비스는 작은 서비스를 말함
작은 기준은 관심사가 분리된 서비스임

예를 들어 쇼핑몰은
상품 서비스, 배송 서비스, 주문 서비스가 있다

마이크로 서비스의 반대는 레가시의 모노리스(Monolith)
위의 서비스가 하나의 덩어리로 되어 있음

마이크로 서비스는 전부 나뉘어져 있음 관심사, 주제로(Single Concern)

교재 173p
마이크로서비시스 아키텍쳐
이너와 아웃터로 구성됨

이너에는 아키텍쳐 관련됨(서비스 관련됨)
폴리그랏(Polyglot)은
모노리스의 경우에는 사용 언어가 하나이고, DB도 하나임
반대로 마이크로 서비스는 전부 선택할 수 있음(독립적으로)
우리팀의 아키텍처를 선정하면 됨

아우터는 런타임과 관련된 기술 스택 관렴임(서비스 제외한 나머지 영역)
APIM 단일 진입점
서비스 메쉬 - 통신을 담당
백킹 서비스(Backing Service)
텔레메트리(Telemetry) - 모니터링 하기 위함
CI/CD - 배포 툴체임

External Gateway
게이트웨이에서 서비스에 따라 나눠줌
모노리스는 웹서버 하나에 와스 하나인데 마이크로 서비스는 모두 나뉘어져 있으므로
각 서비스에 맞게 라우팅해줌

게이트웨이에서 인증/인가를 해주고
나머지에서는 그 정보를 받아서 쓰기만 함

PaaS 플랫폼이 필요함
WAS에서 마이크로 서비스를 올리지 못하고 그 위에 컨테이너에서 올릴 수 있음
컨테이너 런타임(환경)이 필요함 그게 클라우드이고 네이티브 클라우드한 환경에서 돌아가는 것임

DBMS per Service(폴리글랏 한 아키텍쳐이므로)
각 서비스는 데이터베이스를 다르게 할 수 있고 안 쓸 수도 있음

Scheme per Service(레가시에서 많이 씀)
데이터베이스는 하나이고 디비 계정을 분리해서 쓰는 것

